(this.webpackJsonpcheckout=this.webpackJsonpcheckout||[]).push([[0],{20:function(e,t,a){e.exports=a(32)},25:function(e,t,a){},26:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),l=a.n(r),o=(a(25),a(7)),i=a(1),u=(a(26),a(2));function s(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){fetch("http://bmss-devops.bmss.com/checkout").then((function(e){return e.json()})).then((function(e){var t=/\s/g,a=e.map((function(e){var a=e.Name.replace(t,"_");return c.a.createElement("li",{key:e.Name,className:"hero-list"},c.a.createElement(o.b,{to:"/checkout/".concat(a)},e.Name),c.a.createElement("p",null,e.Location))}));r(a)}))})),c.a.createElement("section",{className:"main"},c.a.createElement("article",{className:"main-pics"},c.a.createElement("img",{src:"https://i.imgur.com/suuNAu0.png",alt:"ROR First Floor Plan"}),c.a.createElement("br",null),c.a.createElement("img",{src:"https://i.imgur.com/ANjwtOm.png",alt:"ROR Second Floor Plan"})),c.a.createElement("article",{className:"main-list"},c.a.createElement("ul",null,a)))}var m=a(19);function h(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],l=a[1],i=e.checkNeighbor,s=e.setCheckNeighbor,m=e.checkedIn,h=e.checkedOut,g=e.officeName,f=function(e){var t=parseInt(g.match(/\d+/g));if(t%2===0){var a="Upstairs_Workstation_".concat(t-1);fetch("http://bmss-devops.bmss.com/checkout/".concat(a)).then((function(e){return e.json()})).then((function(t){t.forEach((function(t){var a=new Date(t.CheckedOut.substring(0,t.CheckedOut.length-5)),n=new Date(t.CheckedIn.substring(0,t.CheckedIn.length-5));if(e.getTime()>=a.getTime()&&e.getTime()<=n.getTime())return s(!i),void l(!0)}))}))}else{var n="Upstairs_Workstation_".concat(t+1);fetch("http://bmss-devops.bmss.com/checkout/".concat(n)).then((function(e){return e.json()})).then((function(t){t.forEach((function(t){var a=new Date(t.CheckedOut.substring(0,t.CheckedOut.length-5)),n=new Date(t.CheckedIn.substring(0,t.CheckedIn.length-5));if(e.getTime()>=a.getTime()&&e.getTime()<=n.getTime())return s(!i),void l(!0)}))}))}};return Object(n.useEffect)((function(){""!==m&&""!==h&&(f(m),f(h))}),[m,h,g]),c.a.createElement("article",{style:r?{display:"block",width:"50%",margin:"0 auto"}:{display:"none"}},c.a.createElement("input",{type:"checkbox",onClick:function(){s(!0)}}),c.a.createElement("label",{style:{fontSize:"11px",marginLeft:"5px"}},"I understand that the ",c.a.createElement(o.b,{to:parseInt(g.match(/\d+/g))%2===0?"/checkout/Upstairs_Workstation_".concat(parseInt(g.match(/\d+/g))-1):"/checkout/Upstairs_Workstation_".concat(parseInt(g.match(/\d+/g))+1),target:"_blank"},"neighboring desk")," is checked out during this time and have checked with that staff member to make sure they are comfortable working within 6 feet."))}function g(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(""),i=Object(u.a)(o,2),s=i[0],m=i[1],g=Object(n.useState)(""),f=Object(u.a)(g,2),b=f[0],p=f[1],d=Object(n.useState)(!0),E=Object(u.a)(d,2),k=E[0],O=E[1],v=function(t){for(var a=!0,n=0;n<e.appointments.length;n++)(t>e.appointments[n].checkedIn||t<e.appointments[n].checkedOut)&&(a=!1);return a};return c.a.createElement("div",null,c.a.createElement("h3",null,"Checkout ",e.officeName,":"),c.a.createElement("p",{style:{fontSize:10,color:"gray"}},"All fields are required"),c.a.createElement("label",null,"BMSS Email:",c.a.createElement("br",null),c.a.createElement("input",{type:"text",onChange:function(e){/\w+@bmss.com\b/.exec(e.target.value)&&l(e.target.value)}}),c.a.createElement("br",null),c.a.createElement("p",{className:r.length>1?"hidden":"warning"},"Please enter a valid BMSS email!")),c.a.createElement("label",null,"Checkout Date:",c.a.createElement("br",null),c.a.createElement("input",{type:"datetime-local",onChange:function(t){var a=new Date(t.target.value);(0===e.appointments.length||v(a))&&a.getTime()-Date.now()<1296e6&&m(a)}}),c.a.createElement("br",null),c.a.createElement("p",{className:""!==s&&s.getTime()-Date.now()<1296e6?"hidden":"warning"},"Please enter a valid time to check this office out!")),c.a.createElement("label",null,"Checkin Date:",c.a.createElement("br",null),c.a.createElement("input",{type:"datetime-local",onChange:function(t){var a=new Date(t.target.value);(0===e.appointments.length||v(a))&&a.getTime()>s.getTime()&&p(a)}}),c.a.createElement("p",{className:""!==b&&b.getTime()-s.getTime()<6048e5?"hidden":"warning"},"Please enter a valid time to check this office in!")),/Upstairs Workstation/.test(e.officeName)?c.a.createElement("div",null,c.a.createElement(h,{setCheckNeighbor:O,checkNeighbor:k,checkedIn:b,checkedOut:s,officeName:e.officeName})):c.a.createElement("br",null),c.a.createElement("button",{className:r.length>1&&""!==s&&""!==b&&k&&b.getTime()-s.getTime()<6048e5?"valid":"invalid",onClick:function(){r.length>1&&""!==s&&""!==b&&k&&b.getTime()-s.getTime()<6048e5&&(fetch("http://bmss-devops.bmss.com/checkout/".concat(e.url),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:r,name:e.officeName,location:e.location,site:e.site,standUp:"No"===e.standUp?0:1,checkedOut:"".concat(s.getFullYear(),"-").concat(s.getMonth()+1,"-").concat(s.getDate()," ").concat(s.getHours(),":").concat(s.getMinutes(),":00"),checkedIn:"".concat(b.getFullYear(),"-").concat(b.getMonth()+1,"-").concat(b.getDate()," ").concat(b.getHours(),":").concat(b.getMinutes(),":00"),image:e.image})}),document.location.reload())}},"Checkout"))}function f(){var e=new Date,t=Object(i.f)().office,a=Object(n.useState)([]),r=Object(u.a)(a,2),l=r[0],o=r[1],s=Object(n.useState)(""),h=Object(u.a)(s,2),f=h[0],b=h[1],p=Object(n.useState)("Yes"),d=Object(u.a)(p,2),E=d[0],k=d[1],O=Object(n.useState)(""),v=Object(u.a)(O,2),j=v[0],N=v[1],S=Object(n.useState)(""),M=Object(u.a)(S,2),w=M[0],y=M[1],C=Object(n.useState)(""),D=Object(u.a)(C,2),I=D[0],T=D[1],H=Object(n.useState)([]),F=Object(u.a)(H,2),A=F[0],U=F[1],_=t.replace(/_/g," ");return Object(n.useEffect)((function(){document.title=_,fetch("http://bmss-devops.bmss.com/checkout/".concat(t)).then((function(e){return e.json()})).then((function(t){y(t[0].Site),N(t[0].Location),b(0===t[0].StandUp?"No":"Yes"),T(t[0].ImagePath);var a=t.map((function(a,n){var r=["January","February","March","April","May","June","July","August","September","October","November","December"],l=new Date(a.CheckedOut.substring(0,a.CheckedOut.length-5)),o=new Date(a.CheckedIn.substring(0,a.CheckedIn.length-5));return l<=e&&o>=e&&k("No"),o>=e?(U([].concat(Object(m.a)(A),[{checkedOut:l,checkIn:o}])),c.a.createElement("li",{key:a.ID},r[l.getMonth()]," ",l.getDate(),", ",l.getFullYear()," at ",l.getHours()>12?l.getHours()-12:l.getHours(),":",l.getMinutes()<10?"0".concat(l.getMinutes()):l.getMinutes()," ",l.getHours()>=12?"PM":"AM"," until ",r[o.getMonth()]," ",o.getDate(),", ",o.getFullYear()," at ",o.getHours()>12?o.getHours()-12:o.getHours(),":",o.getMinutes()<10?"0".concat(o.getMinutes()):o.getMinutes()," ",o.getHours()>=12?"PM":"AM"," - ",a.StaffName)):o<e&&n===t.length-1?c.a.createElement("li",{key:"empty"},"No upcoming checkouts"):void 0}));o(a)}))})),c.a.createElement("section",{className:"office-page"},c.a.createElement("article",{className:"office-detail"},c.a.createElement("a",{href:I},c.a.createElement("img",{src:I,alt:"Office Location"})),c.a.createElement("h1",null,_),c.a.createElement("h3",null,"Available: ",E),c.a.createElement("h3",null,"Stand Up: ",f),c.a.createElement("p",null,w," - ",j)),c.a.createElement("article",{className:"office-schedule"},c.a.createElement("h3",null,"Upcoming Schedule:"),c.a.createElement("ul",null,l),c.a.createElement(g,{url:t,officeName:_,location:j,site:w,standUp:f,appointments:A,image:I})))}function b(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)([]),o=Object(u.a)(l,2),i=o[0],s=o[1];return Object(n.useEffect)((function(){fetch("http://bmss-devops.bmss.com/staff/".concat(a.replace(/\s/g,"_"))).then((function(e){return e.json()})).then((function(e){if(e.length>0){var t=e.map((function(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"],a=new Date(e.CheckedOut.substring(0,e.CheckedIn.length-5)),n=new Date(e.CheckedIn.substring(0,e.CheckedIn.length-5));return c.a.createElement("li",{key:e.ID},c.a.createElement("h4",null,e.StaffName),c.a.createElement("p",null,e.Name),c.a.createElement("p",null,"From ",c.a.createElement("strong",null,t[a.getMonth()]," ",a.getDate(),", ",a.getFullYear()," at ",a.getHours()>12?a.getHours()-12:a.getHours(),":",a.getMinutes()<10?"0".concat(a.getMinutes()):a.getMinutes()," ",a.getHours()>=12?"PM":"AM"),c.a.createElement("br",null)," Until ",c.a.createElement("strong",null,t[n.getMonth()]," ",n.getDate(),", ",n.getFullYear()," at ",n.getHours()>12?n.getHours()-12:n.getHours(),":",n.getMinutes()<10?"0".concat(n.getMinutes()):n.getMinutes()," ",n.getHours()>=12?"PM":"AM")))}));s(t)}else{s(c.a.createElement("li",null,"No offices checked out"))}}))})),c.a.createElement("section",{className:"staff"},c.a.createElement("article",{className:"main-staff"},c.a.createElement("h3",null,"Search for a Staff:"),c.a.createElement("input",{type:"text",onChange:function(e){r(e.target.value)}})),c.a.createElement("article",{className:"staff-list"},c.a.createElement("ul",null,i)))}var p=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,null,c.a.createElement("nav",null,c.a.createElement(o.b,{to:"/"},"Open Offices"),c.a.createElement(o.b,{to:"/staff"},"Find a Staff")),c.a.createElement(i.c,null,c.a.createElement(i.a,{exact:!0,path:"/",render:function(){return c.a.createElement(s,null)}}),c.a.createElement(i.a,{exact:!0,path:"/checkout/:office",render:function(){return c.a.createElement(f,null)}}),c.a.createElement(i.a,{exact:!0,path:"/staff",render:function(){return c.a.createElement(b,null)}}))))},d=new Date("2020-06-08 00:00:00"),E=new Date("2020-06-23 00:00:00");console.log(E.getTime()-d.getTime());Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.c6d8d4a0.chunk.js.map